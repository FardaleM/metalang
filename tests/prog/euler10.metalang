
def int eratostene(array<int> t, int max)
	def sum = 0
	for i = 2 to max - 1 do
		if t[i] == i then
			sum += i
			def j = i * i
			/*
			detect overflow
			*/
			if j / i == i then
				while j < max && j > 0 do
					t[j] = 0
					j += i
				end
			end
    end
  end
	return sum
end

main
	def n = 100000 /* normalement on met 2000 000 mais lÃ  on se tape des int overflow dans plein de langages */
  def array<int> t[n] with i do
		return i
  end
	t[1] = 0
	print eratostene(t, n) print "\n"
end
